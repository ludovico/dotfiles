# Set w3m as the browser for Newsboat
browser "open %u"

# Macro to fetch full article text using readability-cli
macro w set browser "newsboat-url2html.sh %u | w3m -T text/html" ; open-in-browser ; set browser "open %u"
macro l set browser "newsboat-url2html.sh %u | w3m -T text/html -dump -cols 72 | LESSBINDINGS='h quit' less" ; open-in-browser ; set browser "open %u"
macro s set browser "newsboat-url2html.sh %u | w3m -T text/html -dump -cols 72 | speedread -w 300" ; open-in-browser ; set browser "open %u"
macro p set browser "newsboat-url2pdf.sh %u" ; open-in-browser ; set browser "open %u"

# externel browser
macro m set browser "/opt/homebrew/bin/mpv %u"; open-in-browser ; set browser "/usr/local/bin/w3m %u"
macro e set browser "newsboat-url2html.sh %u > /tmp/readability.html && open /tmp/readability.html"; open-in-browser ; set browser "open %u"

# play yt-video
macro v set browser "mpv --ytdl-format=mp4 %u &>/dev/null&" ; open-in-browser-and-mark-read ;

# general settings
auto-reload yes
max-items 50


# unbind keys
unbind-key ENTER
unbind-key j
unbind-key k
unbind-key J
unbind-key K

# bind keys - vim style
bind-key j down
bind-key k up
bind-key l open
bind-key h quit

# solarized
color background         default   default
color listnormal         default   default
color listnormal_unread  default   default
color listfocus          black     cyan
color listfocus_unread   black     cyan
color info               default   black
color article            default   default

# highlights
highlight article "^(Title):.*$" blue default
highlight article "https?://[^ ]+" red default
highlight article "\\[image\\ [0-9]+\\]" green default

#urls-source "ocnews"
#ocnews-url "https://drive.ukorrekt.no"
#ocnews-login "eivind"
#ocnews-passwordeval "pass ukorrekt-news"
#
#highlight feedlist ".*0\/.*\s*[^-]" default default dim
highlight feedlist "---.*---" yellow default bold
highlight feedlist "(.*\/.*)\s*---" yellow default bold
highlight feedlist ".*\\(0\/.*\s*---" yellow default dim
